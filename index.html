<!DOCTYPE html>
<html>
  <head>
    <title>Chartkick</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="bootstrap.css">
    <link rel="stylesheet" type="text/css" href="github.css">
    <style>
      body {
        padding: 20px 0px;
      }

      .container-fluid {
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
      }

      h2, h3 {
        margin-top: 1em;
      }

      p {
        margin-top: 1.5em;
        margin-bottom: 1.5em;
      }
    </style>
    <script src="//www.google.com/jsapi"></script>
    <script src="chartkick.js"></script>
  </head>
  <body>
    <a href="https://github.com/ankane/chartkick"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 1000;" src="ribbon.png" alt="Fork me on GitHub"></a>

    <div class="container-fluid">
      <div class="page-header">
        <h1>Chartkick</h1>
        <p class="lead">Create beautiful Javascript charts with one line of Ruby</p>
        <div class="alert">Also available in <a href="https://github.com/mher/chartkick.py">Python</a> and pure <a href="https://github.com/ankane/chartkick.js">JavaScript</a></div>
      </div>

<p>Simplify your admin dashboard - create new charts in seconds!</p>

<p>Works with Rails, Sinatra and most browsers (including IE 6)</p>

<p><img class="emoji" title=":two_hearts:" alt=":two_hearts:" src="https://github.global.ssl.fastly.net/images/icons/emoji/two_hearts.png" height="20" width="20" align="absmiddle"> A perfect companion to <a href="https://github.com/ankane/groupdate">groupdate</a> and <a href="https://github.com/ankane/active_median">active_median</a></p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="mini-icon mini-icon-link"></span></a>Usage</h2>

<p>Line chart</p>

<div id="chart-1" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
new Chartkick.LineChart("chart-1", {"2013-02-10 00:00:00 -0800":11,"2013-02-11 00:00:00 -0800":6,"2013-02-12 00:00:00 -0800":3,"2013-02-13 00:00:00 -0800":2,"2013-02-14 00:00:00 -0800":5,"2013-02-15 00:00:00 -0800":3,"2013-02-16 00:00:00 -0800":8,"2013-02-17 00:00:00 -0800":6,"2013-02-18 00:00:00 -0800":6,"2013-02-19 00:00:00 -0800":12,"2013-02-20 00:00:00 -0800":5,"2013-02-21 00:00:00 -0800":5,"2013-02-22 00:00:00 -0800":3,"2013-02-23 00:00:00 -0800":1,"2013-02-24 00:00:00 -0800":10,"2013-02-25 00:00:00 -0800":1,"2013-02-26 00:00:00 -0800":3,"2013-02-27 00:00:00 -0800":2,"2013-02-28 00:00:00 -0800":3,"2013-03-01 00:00:00 -0800":2,"2013-03-02 00:00:00 -0800":8}, {});
</script>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="no">User</span><span class="o">.</span><span class="n">group_by_day</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<div class="alert">
  You must have <a href="https://github.com/ankane/groupdate">groupdate</a> installed to use the group_by_day method
</div>

<p>Pie chart</p>

<div id="chart-2" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
//<![CDATA[
new Chartkick.PieChart(document.getElementById("chart-2"), [["Blueberry",44],["Strawberry",23],["Banana",22],["Apple",21],["Grape",13]], {});
//]]>
</script>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">pie_chart</span> <span class="no">Goal</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span><span class="o">.</span><span class="n">count</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>Column chart</p>

<div id="chart-3" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
new Chartkick.ColumnChart("chart-3", [["0",32],["1",46],["2",28],["3",21],["4",20],["5",13],["6",27]], {});
</script>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">column_chart</span> <span class="no">Task</span><span class="o">.</span><span class="n">group_by_day_of_week</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>Bar chart</p>

<div id="chart-4" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">
  Loading...
</div>
<script type="text/javascript">
  new Chartkick.BarChart("chart-4", [["X-Small",5],["Small",27],["Medium",10],["Large",14],["X-Large",10]], {});
</script>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">bar_chart</span> <span class="no">Shirt</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">"size"</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="ss">:price</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>Area chart</p>

<div id="chart-5" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif;">
  Loading...
</div>
<script type="text/javascript">
  new Chartkick.AreaChart("chart-5", {"2013-07-27 07:00:00 UTC":2,"2013-07-27 07:01:00 UTC":5,"2013-07-27 07:02:00 UTC":3,"2013-07-27 07:03:00 UTC":3,"2013-07-27 07:04:00 UTC":2,"2013-07-27 07:05:00 UTC":5,"2013-07-27 07:06:00 UTC":1,"2013-07-27 07:07:00 UTC":3,"2013-07-27 07:08:00 UTC":4,"2013-07-27 07:09:00 UTC":3,"2013-07-27 07:10:00 UTC":2}, {});
</script>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">area_chart</span> <span class="no">Visit</span><span class="o">.</span><span class="n">group_by_minute</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="ss">:load_time</span><span class="p">)</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>Multiple series (except pie chart)</p>

<div id="chart-6" style="height: 300px; text-align: center; color: #999; line-height: 300px; font-size: 14px; font-family: Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif;">Loading...</div><script>
new Chartkick.LineChart("chart-6", [{"name":"Workout","data":{"2013-02-10 00:00:00 -0800":3,"2013-02-17 00:00:00 -0800":3,"2013-02-24 00:00:00 -0800":3,"2013-03-03 00:00:00 -0800":1,"2013-03-10 00:00:00 -0800":4,"2013-03-17 00:00:00 -0700":3,"2013-03-24 00:00:00 -0700":2,"2013-03-31 00:00:00 -0700":3}},{"name":"Go to concert","data":{"2013-02-10 00:00:00 -0800":0,"2013-02-17 00:00:00 -0800":0,"2013-02-24 00:00:00 -0800":0,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":2,"2013-03-17 00:00:00 -0700":1,"2013-03-24 00:00:00 -0700":0,"2013-03-31 00:00:00 -0700":0}},{"name":"Wash face","data":{"2013-02-10 00:00:00 -0800":0,"2013-02-17 00:00:00 -0800":1,"2013-02-24 00:00:00 -0800":0,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":0,"2013-03-17 00:00:00 -0700":1,"2013-03-24 00:00:00 -0700":0,"2013-03-31 00:00:00 -0700":1}},{"name":"Call parents","data":{"2013-02-10 00:00:00 -0800":5,"2013-02-17 00:00:00 -0800":3,"2013-02-24 00:00:00 -0800":2,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":0,"2013-03-17 00:00:00 -0700":1,"2013-03-24 00:00:00 -0700":1,"2013-03-31 00:00:00 -0700":0}},{"name":"Eat breakfast","data":{"2013-02-10 00:00:00 -0800":3,"2013-02-17 00:00:00 -0800":2,"2013-02-24 00:00:00 -0800":1,"2013-03-03 00:00:00 -0800":0,"2013-03-10 00:00:00 -0800":2,"2013-03-17 00:00:00 -0700":2,"2013-03-24 00:00:00 -0700":3,"2013-03-31 00:00:00 -0700":0}}], {});
</script>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="vi">@goals</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">goal</span><span class="o">|</span>
    <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="n">goal</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="n">goal</span><span class="o">.</span><span class="n">feats</span><span class="o">.</span><span class="n">group_by_week</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span> <span class="p">}</span>
<span class="p">}</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<h3>
<a name="say-goodbye-to-timeouts" class="anchor" href="#say-goodbye-to-timeouts"><span class="mini-icon mini-icon-link"></span></a>Say Goodbye To Timeouts</h3>

<p>Make your pages load super fast and stop worrying about timeouts.  Give each chart its own endpoint.</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="n">completed_tasks_charts_path</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>And in your controller, pass the data as JSON.</p>

<div class="highlight"><pre><span class="k">class</span> <span class="nc">ChartsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">completed_tasks</span>
    <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="no">Task</span><span class="o">.</span><span class="n">group_by_day</span><span class="p">(</span><span class="ss">:completed_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p><strong>Note:</strong> This feature requires jQuery at the moment.</p>

<h3>
<a name="options" class="anchor" href="#options"><span class="mini-icon mini-icon-link"></span></a>Options</h3>

<p>Id and height</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="no">User</span><span class="o">.</span><span class="n">group_by_day</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s2">"users-chart"</span><span class="p">,</span> <span class="ss">:height</span> <span class="o">=&gt;</span> <span class="s2">"500px"</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>Min and max values (except pie chart)</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="no">User</span><span class="o">.</span><span class="n">group_by_day</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="ss">:min</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span> <span class="ss">:max</span> <span class="o">=&gt;</span> <span class="mi">5000</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>You can pass options directly to the charting library with:</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="no">User</span><span class="o">.</span><span class="n">group_by_day</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="ss">:library</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:backgroundColor</span> <span class="o">=&gt;</span> <span class="s2">"#eee"</span><span class="p">}</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>You can also pass a content_for option, which will put the javascript in a content block.  This is great for including all of your javascript at the bottom of the page.</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="no">User</span><span class="o">.</span><span class="n">group_by_day</span><span class="p">(</span><span class="ss">:created_at</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="ss">:content_for</span> <span class="o">=&gt;</span> <span class="ss">:charts_js</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>Then, in your layout:</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="ss">:charts_js</span> <span class="cp">%&gt;</span><span class="x"> </span><span class="cp">&lt;%#</span><span class="c"> Rails </span><span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%=</span> <span class="n">yield_content</span> <span class="ss">:charts_js</span> <span class="cp">%&gt;</span><span class="x"> </span><span class="cp">&lt;%#</span><span class="c"> Padrino </span><span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<h3>
<a name="data" class="anchor" href="#data"><span class="mini-icon mini-icon-link"></span></a>Data</h3>

<p>Pass data as a Hash or Array</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">pie_chart</span><span class="p">({</span><span class="s2">"Football"</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">"Basketball"</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">})</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%=</span> <span class="n">pie_chart</span> <span class="o">[[</span><span class="s2">"Football"</span><span class="p">,</span> <span class="mi">10</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="s2">"Basketball"</span><span class="p">,</span> <span class="mi">5</span><span class="o">]]</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>For multiple series, use the format</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span> <span class="o">[</span>
  <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">"Series A"</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="n">series_a</span><span class="p">},</span>
  <span class="p">{</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">"Series B"</span><span class="p">,</span> <span class="ss">:data</span> <span class="o">=&gt;</span> <span class="n">series_b</span><span class="p">}</span>
<span class="o">]</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>Times can be a time, a timestamp, or a string (strings are parsed)</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">line_chart</span><span class="p">({</span><span class="mi">20</span><span class="o">.</span><span class="n">day</span><span class="o">.</span><span class="n">ago</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1368174456</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">"2013-05-07 00:00:00 UTC"</span> <span class="o">=&gt;</span> <span class="mi">7</span><span class="p">})</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<div class="highlight"><pre><span class="n">gem</span> <span class="s2">"chartkick"</span>
</pre></div>

<p>And add the javascript files to your views.  These files must be included <strong>before</strong> the helper methods, unless using the <code>:content_for</code> option.</p>

<p>For Google Charts, use:</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">javascript_include_tag</span> <span class="s2">"//www.google.com/jsapi"</span><span class="p">,</span> <span class="s2">"chartkick"</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<p>If you prefer Highcharts, use:</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">javascript_include_tag</span> <span class="s2">"path/to/highcharts.js"</span><span class="p">,</span> <span class="s2">"chartkick"</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<h3>
<a name="for-rails-31" class="anchor" href="#for-rails-31"><span class="octicon octicon-link"></span></a>For Rails 3.1+</h3>

<p><code>chartkick.js</code> runs as a Rails engine - no need to install it.</p>

<h3>
<a name="for-rails-23-and-30" class="anchor" href="#for-rails-23-and-30"><span class="octicon octicon-link"></span></a>For Rails 2.3 and 3.0</h3>

<p>You must include <code>chartkick.js</code> manually.  <a href="https://raw.github.com/ankane/chartkick/master/app/assets/javascripts/chartkick.js">Download it here</a></p>

<h3>
<a name="for-sinatra" class="anchor" href="#for-sinatra"><span class="octicon octicon-link"></span></a>For Sinatra</h3>

<p>You must include <code>chartkick.js</code> manually.  <a href="https://raw.github.com/ankane/chartkick/master/app/assets/javascripts/chartkick.js">Download it here</a></p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//www.google.com/jsapi"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"chartkick.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<h3>
<a name="for-padrino" class="anchor" href="#for-padrino"><span class="octicon octicon-link"></span></a>For Padrino</h3>

<p>You must include <code>chartkick.js</code> manually.  <a href="https://raw.github.com/ankane/chartkick/master/app/assets/javascripts/chartkick.js">Download it here</a></p>

<p>In addition, you must specify <code>http</code> or <code>https</code> if you use Google Charts, since Padrino tries to append <code>.js</code> to protocol relative urls.</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">javascript_include_tag</span> <span class="s2">"https://www.google.com/jsapi"</span><span class="p">,</span> <span class="s2">"chartkick"</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre></div>

<h2>
<a name="history" class="anchor" href="#history"><span class="mini-icon mini-icon-link"></span></a>History</h2>

<p>View the <a href="https://github.com/ankane/chartkick/blob/master/CHANGELOG.md">changelog</a></p>

<p>Chartkick follows <a href="http://semver.org/">Semantic Versioning</a></p>

<h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Everyone is encouraged to help improve this project. Here are a few ways you can help:</p>

<ul>
<li><a href="https://github.com/ankane/chartkick/issues">Report bugs</a></li>
<li>Fix bugs and <a href="https://github.com/ankane/chartkick/pulls">submit pull requests</a>
</li>
<li>Write, clarify, or fix documentation</li>
<li>Suggest or add new features</li>
</ul>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39027070-4', 'github.io');
  ga('send', 'pageview');
</script>

  </body>
</html>
